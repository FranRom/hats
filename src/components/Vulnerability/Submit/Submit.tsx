import SubmitSuccess, { BotStatus } from "./components/SubmitSuccess/SubmitSuccess";
import SubmitReview from "./components/SubmitReview/SubmitReview";
import { useContext, useState } from "react";
import axios from "axios";
import { Card, IVulnerabilityData } from "../types";
import "./index.scss";
import { DEFAULT_BOT } from "settings";
import { AccordionContext } from "../VulnerabilityAccordion";

/**
 * Function to call the Telegram bot after a success on the blockchain transaction.
 * @param {Function} submitCard 
 * @param {string} telegramBotUrl 
 * @param {string} encryptedData 
 * @param {string} transactionHash 
 * @param {boolean} isRouted 
 * @param {Function} setBotStatus 
 * @param {string} contractAddress
 */
export default function Submit() {
  const { cards } = useContext(AccordionContext);

  return (
    <div className="submit-wrapper card-content">
      {cards?.submission?.verified ? (
        <SubmitSuccess />) : (
        <SubmitReview />)}
    </div>
  )
}
