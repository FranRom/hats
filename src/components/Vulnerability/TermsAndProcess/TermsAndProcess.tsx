import { useContext, useState } from "react";
import { AccordionContext } from "../VulnerabilityAccordion";
import { useTranslation } from "react-i18next";
import { TERMS_OF_USE } from "../../../constants/constants";
import "./index.scss";

interface IProps {
  verified: boolean
}

export default function TermsAndProcess({ verified }: IProps) {
  const { submitCard } = useContext(AccordionContext);
  const [acceptedTermsOfUse, setAcceptedTermsOfUse] = useState(verified);
  const { t } = useTranslation();

  return (
    <div className="terms-and-process-wrapper">
      <div>{t("SubmitVulnerability.TermsAndProcess.pre-submission")}</div>

      <div className="section-title submission">1 {t("SubmitVulnerability.TermsAndProcess.submission-sub-title")}</div>
      <div className="section-content submission">{t("SubmitVulnerability.TermsAndProcess.submission")}</div>

      <div className="section-title fix">2 {t("SubmitVulnerability.TermsAndProcess.fix-sub-title")}</div>
      <div className="section-content fix">{t("SubmitVulnerability.TermsAndProcess.fix")}</div>

      <div className="section-title awards">3 {t("SubmitVulnerability.TermsAndProcess.awards-sub-title")}</div>
      <div className="section-content awards">{t("SubmitVulnerability.TermsAndProcess.awards")}</div>

      <div className="warning-notice">{t("SubmitVulnerability.TermsAndProcess.warning-notice")}</div>

      <div>
        <input type="checkbox" checked={acceptedTermsOfUse} onChange={() => setAcceptedTermsOfUse(!acceptedTermsOfUse)} />
        <label>I UNDERSTAND AND AGREE TO THE <u><a target="_blank" rel="noopener noreferrer" href={TERMS_OF_USE}>TERMS OF USE</a></u></label>
        <button disabled={!acceptedTermsOfUse} onClick={() => submitCard(4)}>NEXT</button>
      </div>
    </div>
  )
}
